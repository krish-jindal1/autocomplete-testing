{"version":3,"file":"index.modern.js","sources":["../src/autocomplete.js","../src/autocomplete-v4.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Autocomplete,\r\n  IconButton,\r\n  TextField,\r\n  useMediaQuery,\r\n  useTheme,\r\n  Box,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport { grey } from \"@mui/material/colors\";\r\n\r\nconst ResponsiveAutocomplete = (props) => {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  const {\r\n    mobileBackgroundSx,\r\n    mobileBackgroundClassName,\r\n    backButtonSx,\r\n    backButtonClassName,\r\n    renderInput,\r\n    onFocus,\r\n    onClose,\r\n    slotProps = {},\r\n    blurOnSelect,\r\n    ...autocompleteProps\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isMobileFocused = isFocused && isMobile;\r\n\r\n  // Lock page scroll when mobile input is focused\r\n  useEffect(() => {\r\n    const bodyStyle = document.body.style;\r\n    const htmlStyle = document.documentElement.style;\r\n\r\n    if (isMobileFocused) {\r\n      bodyStyle.overflow = \"hidden\";\r\n      htmlStyle.overflow = \"hidden\";\r\n      bodyStyle.position = \"fixed\";\r\n      bodyStyle.width = \"100%\";\r\n    } else {\r\n      bodyStyle.overflow = \"\";\r\n      htmlStyle.overflow = \"\";\r\n      bodyStyle.position = \"\";\r\n      bodyStyle.width = \"\";\r\n    }\r\n  }, [isFocused,isMobile]);\r\n\r\n  const handleFocus = (e) => {\r\n    setIsFocused(true);\r\n    onFocus?.(e);\r\n  };\r\n\r\n  const handleClose = (event,reason) => {\r\n    if(reason!='toggleInput')\r\n    setIsFocused(false);\r\n    onClose?.(event,reason);\r\n  };\r\n\r\n  const wrappedRenderInput = (params) => {\r\n    const inputElement = renderInput ? (\r\n      renderInput(params)\r\n    ) : (\r\n      <TextField {...params} label=\"Search\" variant=\"outlined\" />\r\n    );\r\n\r\n    return React.cloneElement(inputElement, {\r\n      ...inputElement.props,\r\n      autoFocus: isFocused,\r\n    });\r\n  };\r\n\r\n  const containerSx = isMobileFocused\r\n    ? {\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        padding: \"16px 12px 16px 0px\",\r\n        background: theme.palette.background.paper,\r\n        zIndex: 1300,\r\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n        height: \"100vh\",\r\n        maxWidth: \"-webkit-fill-available\",\r\n        display: \"flex\",\r\n        justifyContent: \"flex-start\",\r\n        flexDirection: \"row\",\r\n        ...mobileBackgroundSx,\r\n      }\r\n    : {\r\n        position: \"relative\",\r\n      };\r\n\r\n  const paperSx = isMobileFocused\r\n    ? {\r\n        boxShadow: \"none\",\r\n        width: \"100vw\",\r\n        left: 0,\r\n        borderTop: `1.5px solid ${grey[400]}`,\r\n        borderRadius: 0,\r\n        mt: 1,\r\n      }\r\n    : {};\r\n\r\n  const popperSx = isMobileFocused\r\n    ? {\r\n        width: \"101vw !important\",\r\n        left: \"0 !important\",\r\n        right: \"0 !important\",\r\n        overflow: \"hidden\",\r\n      }\r\n    : {};\r\n\r\n  return (\r\n    <Box\r\n      className={isMobileFocused ? mobileBackgroundClassName : undefined}\r\n      sx={containerSx}\r\n    >\r\n      {isMobileFocused && (\r\n        <IconButton\r\n          className={backButtonClassName}\r\n          sx={{\r\n            alignSelf: \"flex-start\",\r\n            marginBottom: \"18px\",\r\n            ...backButtonSx,\r\n          }}\r\n          onClick={handleClose}\r\n        >\r\n          <ArrowBackIcon />\r\n        </IconButton>\r\n      )}\r\n\r\n      <Autocomplete\r\n        {...autocompleteProps}\r\n        onFocus={handleFocus}\r\n        onClose={handleClose}\r\n        renderInput={isMobile ? wrappedRenderInput : renderInput}\r\n        openOnFocus\r\n        blurOnSelect={isMobile ? true : blurOnSelect}\r\n        slotProps={{\r\n          paper: {\r\n            ...slotProps.paper,\r\n            sx: { ...paperSx, ...(slotProps.paper?.sx || {}) },\r\n          },\r\n          popper: {\r\n            ...slotProps.popper,\r\n            sx: { ...popperSx, ...(slotProps.popper?.sx || {}) },\r\n          },\r\n          ...slotProps,\r\n        }}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ResponsiveAutocomplete;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\nimport { IconButton, TextField, useMediaQuery } from \"@material-ui/core\";\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nconst styles = (theme) => ({\r\n  wrapper: {\r\n    position: \"relative\",\r\n  },\r\n  focused: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    padding: \"16px 12px 16px 0px\",\r\n    background: theme.palette.background.paper,\r\n    zIndex: 1300,\r\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n    height: \"100vh\",\r\n    maxWidth: \"-webkit-fill-available\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  backButton: {\r\n    alignSelf: \"flex-start\",\r\n    marginBottom: \"18px\",\r\n  },\r\n  paper: {\r\n    boxShadow: \"none\",\r\n    width: \"100vw !important\",\r\n    left: \"0 !important\",\r\n    borderTop: `1.5px solid ${grey[400]}`,\r\n    borderRadius: 0,\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  popper: {\r\n    width: \"101vw !important\",\r\n    left: \"0 !important\",\r\n    right: \"0 !important\",\r\n    overflow: \"hidden\",\r\n  },\r\n});\r\n\r\nconst ResponsiveAutocomplete = (props) => {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const {\r\n    classes,\r\n    mobileBackgroundClassName,\r\n    backButtonClassName,\r\n    renderInput,\r\n    onFocus,\r\n    onClose,\r\n    blurOnSelect,\r\n    ...autocompleteProps\r\n  } = props;\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n  const isMobileFocused = isFocused && isMobile;\r\n\r\n  // Lock page scroll when mobile input is focused\r\n  useEffect(() => {\r\n    if (isMobileFocused) {\r\n      document.body.style.overflow = \"hidden\";\r\n      document.documentElement.style.overflow = \"hidden\";\r\n      document.body.style.position = \"fixed\";\r\n      document.body.style.width = \"100%\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n      document.documentElement.style.overflow = \"\";\r\n      document.body.style.position = \"\";\r\n      document.body.style.width = \"\";\r\n    }\r\n  }, [isFocused, isMobile]);\r\n\r\n  const handleFocus = (e) => {\r\n    setIsFocused(true);\r\n    onFocus && onFocus(e);\r\n  };\r\n\r\n  const handleClose = (event,reason) => {\r\n    if(reason!='toggleInput')\r\n    setIsFocused(false);\r\n    onClose && onClose(event,reason);\r\n  };\r\n\r\n  const wrappedRenderInput = (params) => {\r\n    const inputElement = props.renderInput ? (\r\n      renderInput(params)\r\n    ) : (\r\n      <TextField {...params} label=\"Search\" variant=\"outlined\" />\r\n    );\r\n    return React.cloneElement(inputElement, {\r\n      ...inputElement.props,\r\n      autoFocus: isFocused,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        isMobileFocused\r\n          ? `${classes.focused} ${mobileBackgroundClassName || \"\"}`\r\n          : classes.wrapper\r\n      }\r\n    >\r\n      {isMobileFocused && (\r\n        <IconButton\r\n          className={`${classes.backButton} ${backButtonClassName || \"\"}`}\r\n        >\r\n          <ArrowBack />\r\n        </IconButton>\r\n      )}\r\n      <Autocomplete\r\n        {...autocompleteProps}\r\n        onFocus={handleFocus}\r\n        onClose={handleClose}\r\n        openOnFocus\r\n        classes={{\r\n          ...(autocompleteProps.classes || {}),\r\n          ...(isMobileFocused\r\n            ? {\r\n                paper: `${autocompleteProps.classes?.paper || \"\"} ${\r\n                  classes.paper\r\n                }`.trim(),\r\n                popper: `${autocompleteProps.classes?.popper || \"\"} ${\r\n                  classes.popper\r\n                }`.trim(),\r\n              }\r\n            : {}),\r\n        }}\r\n        blurOnSelect={isMobile ? true : blurOnSelect}\r\n        renderInput={isMobile ? wrappedRenderInput : renderInput}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ResponsiveAutocomplete);\r\n"],"names":["ResponsiveAutocomplete","props","_slotProps$paper","_slotProps$popper","isFocused","setIsFocused","useState","mobileBackgroundSx","mobileBackgroundClassName","backButtonSx","backButtonClassName","renderInput","onFocus","onClose","slotProps","blurOnSelect","autocompleteProps","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","isMobileFocused","useEffect","bodyStyle","document","body","style","htmlStyle","documentElement","overflow","position","width","handleClose","event","reason","containerSx","top","left","padding","background","palette","paper","zIndex","boxShadow","height","maxWidth","display","justifyContent","flexDirection","paperSx","borderTop","grey","borderRadius","mt","popperSx","right","React","createElement","Box","className","undefined","sx","IconButton","alignSelf","marginBottom","onClick","ArrowBackIcon","Autocomplete","_extends","e","params","inputElement","TextField","label","variant","cloneElement","autoFocus","openOnFocus","popper","withStyles","wrapper","focused","backButton","marginTop","spacing","withTheme","_autocompleteProps$cl","_autocompleteProps$cl2","classes","ArrowBack","trim"],"mappings":"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"}